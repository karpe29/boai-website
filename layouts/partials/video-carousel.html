<section class="py-16 bg-primary-dark min-h-[500px] flex items-center">
    <div class="container mx-auto px-6">
        <div class="max-w-7xl mx-auto">
            <!-- Headline -->
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">See Our Work in Action</h2>
                <p class="text-gray-300 text-lg">Example video ads created with BlinkofAI</p>
            </div>
            
            <!-- Video Carousel -->
            <div class="relative">
                <div id="video-carousel" class="overflow-hidden">
                    <div class="flex transition-transform duration-500 ease-in-out">
                        <!-- Video 1 -->
                        <div class="video-slide flex-shrink-0 w-full md:w-1/3 px-3">
                            <div class="bg-primary border border-primary-light rounded-2xl overflow-hidden">
                                <div class="aspect-video bg-primary-dark flex items-center justify-center">
                                    <video class="w-full h-full object-cover" muted playsinline loop>
                                        <source src="{{ "videos/portfolio1.mp4" | relURL }}" type="video/mp4">
                                        Your browser does not support the video tag.
                                    </video>
                                </div>
                                <div class="p-4">
                                    <p class="text-white font-semibold mb-1">Before â†’ After</p>
                                    <p class="text-gray-400 text-sm">Template ad vs. Personalized variant</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Video 2 -->
                        <div class="video-slide flex-shrink-0 w-full md:w-1/3 px-3">
                            <div class="bg-primary border border-primary-light rounded-2xl overflow-hidden">
                                <div class="aspect-video bg-primary-dark flex items-center justify-center">
                                    <video class="w-full h-full object-cover" muted playsinline loop>
                                        <source src="{{ "videos/portfolio2.mp4" | relURL }}" type="video/mp4">
                                        Your browser does not support the video tag.
                                    </video>
                                </div>
                                <div class="p-4">
                                    <p class="text-white font-semibold mb-1">Persona Variants</p>
                                    <p class="text-gray-400 text-sm">Same script, different personas</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Video 3 -->
                        <div class="video-slide flex-shrink-0 w-full md:w-1/3 px-3">
                            <div class="bg-primary border border-primary-light rounded-2xl overflow-hidden">
                                <div class="aspect-video bg-primary-dark flex items-center justify-center">
                                    <div class="text-gray-400 text-center p-8">
                                        <svg class="w-16 h-16 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                        </svg>
                                        <p class="text-sm">Video 3</p>
                                    </div>
                                </div>
                                <div class="p-4">
                                    <p class="text-white font-semibold mb-1">Platform Variants</p>
                                    <p class="text-gray-400 text-sm">Optimized for Meta, Google, CTV</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Navigation Arrows -->
                <button id="carousel-prev" class="absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 md:-translate-x-4 bg-accent hover:bg-accent-light text-white w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center transition-all duration-200 shadow-lg z-10">
                    <svg class="w-5 h-5 md:w-6 md:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                </button>
                <button id="carousel-next" class="absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 md:translate-x-4 bg-accent hover:bg-accent-light text-white w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center transition-all duration-200 shadow-lg z-10">
                    <svg class="w-5 h-5 md:w-6 md:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Dots Indicator -->
            <div class="flex justify-center gap-2 mt-8">
                <button class="carousel-dot active w-3 h-3 rounded-full bg-accent transition-all duration-200" data-slide="0"></button>
                <button class="carousel-dot w-3 h-3 rounded-full bg-gray-600 hover:bg-accent transition-all duration-200" data-slide="1"></button>
                <button class="carousel-dot w-3 h-3 rounded-full bg-gray-600 hover:bg-accent transition-all duration-200" data-slide="2"></button>
            </div>
        </div>
    </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const carousel = document.getElementById('video-carousel');
    const prevBtn = document.getElementById('carousel-prev');
    const nextBtn = document.getElementById('carousel-next');
    const dots = document.querySelectorAll('.carousel-dot');
    
    if (!carousel || !prevBtn || !nextBtn) return;
    
    let currentSlide = 0;
    const slides = carousel.querySelectorAll('.video-slide');
    const totalSlides = slides.length;
    const flexContainer = carousel.querySelector('.flex');
    
    function showSlide(index) {
        if (!flexContainer) return;
        
        // Calculate transform
        const translateX = -(index * (100 / totalSlides));
        flexContainer.style.transform = `translateX(${translateX}%)`;
        
        // Update dots
        dots.forEach((dot, i) => {
            if (i === index) {
                dot.classList.add('active', 'bg-accent');
                dot.classList.remove('bg-gray-600');
            } else {
                dot.classList.remove('active', 'bg-accent');
                dot.classList.add('bg-gray-600');
            }
        });
        
        // Pause all videos
        slides.forEach((slide, i) => {
            const video = slide.querySelector('video');
            if (video) {
                if (i === index) {
                    video.play().catch(e => console.log('Autoplay prevented'));
                } else {
                    video.pause();
                }
            }
        });
        
        currentSlide = index;
    }
    
    function nextSlide() {
        showSlide((currentSlide + 1) % totalSlides);
    }
    
    function prevSlide() {
        showSlide((currentSlide - 1 + totalSlides) % totalSlides);
    }
    
    // Event listeners
    nextBtn.addEventListener('click', nextSlide);
    prevBtn.addEventListener('click', prevSlide);
    
    dots.forEach((dot, index) => {
        dot.addEventListener('click', () => showSlide(index));
    });
    
    // Initialize
    showSlide(0);
    
    // Auto-advance carousel every 5 seconds
    setInterval(nextSlide, 5000);
});
</script>

<style>
.video-slide video {
    cursor: pointer;
}

.video-slide video:hover {
    opacity: 0.9;
}
</style>
