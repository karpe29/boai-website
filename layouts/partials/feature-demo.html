<section class="w-full flex flex-col md:flex-row min-h-screen bg-white">
    <!-- Left Column - Tabs -->
    <div class="w-full md:w-1/3 border-r border-gray-200 px-6 py-10 space-y-10 bg-white">
        <div role="tablist" class="space-y-0" id="feature-tabs">
            <!-- Tab 1 -->
            <button
                role="tab"
                aria-selected="true"
                data-tab="0"
                class="feature-tab w-full flex items-start gap-4 cursor-pointer py-4 px-2 transition-all duration-300 relative text-gray-900"
            >
                <div class="flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center bg-orange-100 text-orange-600">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                    </svg>
                </div>
                <div class="flex-1 text-left">
                    <h3 class="font-semibold mb-1 text-gray-900">AI creates from scratch</h3>
                    <p class="text-sm text-gray-500 leading-relaxed">Makes fresh creatives based on winning elements</p>
                </div>
                <div class="absolute bottom-0 left-0 h-[3px] w-full bg-orange-500 rounded-t-full"></div>
            </button>
            
            <!-- Tab 2 -->
            <button
                role="tab"
                aria-selected="false"
                data-tab="1"
                class="feature-tab w-full flex items-start gap-4 cursor-pointer py-4 px-2 transition-all duration-300 relative text-gray-600 hover:text-gray-900"
            >
                <div class="flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center bg-gray-100 text-gray-400">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                </div>
                <div class="flex-1 text-left">
                    <h3 class="font-semibold mb-1 text-gray-700">Checks brand alignment & compliance</h3>
                    <p class="text-sm text-gray-500 leading-relaxed">Makes sure nothing slips through cracks</p>
                </div>
            </button>
            
            <!-- Tab 3 -->
            <button
                role="tab"
                aria-selected="false"
                data-tab="2"
                class="feature-tab w-full flex items-start gap-4 cursor-pointer py-4 px-2 transition-all duration-300 relative text-gray-600 hover:text-gray-900"
            >
                <div class="flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center bg-gray-100 text-gray-400">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                    </svg>
                </div>
                <div class="flex-1 text-left">
                    <h3 class="font-semibold mb-1 text-gray-700">Auto-publishes to ad platforms</h3>
                    <p class="text-sm text-gray-500 leading-relaxed">Fully handles the last mile of ad operations and campaign management</p>
                </div>
            </button>
        </div>
    </div>

    <!-- Right Column - Video Demo Panel -->
    <div class="w-full md:w-2/3 relative px-6 py-10 flex items-center justify-center bg-gradient-to-br from-slate-50 to-gray-100">
        <div class="relative w-full max-w-4xl aspect-video rounded-3xl overflow-hidden bg-black shadow-2xl">
            <!-- Video Element -->
            <video
                id="feature-demo-video"
                class="w-full h-full object-cover"
                preload="metadata"
                playsinline
            >
                <source src="{{ "videos/chapter1.mp4" | relURL }}" type="video/mp4" data-chapter="0">
                <source src="{{ "videos/chapter2.mp4" | relURL }}" type="video/mp4" data-chapter="1">
                <source src="{{ "videos/chapter3.mp4" | relURL }}" type="video/mp4" data-chapter="2">
                Your browser does not support the video tag.
            </video>

            <!-- Gradient Overlay -->
            <div class="absolute inset-0 bg-gradient-to-t from-emerald-900/60 via-slate-950/50 to-slate-900/40 pointer-events-none"></div>

            <!-- Progress Bar -->
            <div class="absolute top-0 left-0 w-full h-[3px] bg-white/20 z-20">
                <div id="progress-bar" class="h-full bg-orange-500 transition-all duration-75 ease-linear" style="width: 0%"></div>
            </div>

            <!-- Background Card - Ad Manager UI -->
            <div class="absolute right-6 top-10 w-80 rounded-3xl bg-white/5 backdrop-blur-xl border border-white/10 p-6 scale-95 opacity-60 z-10">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <h4 class="text-white font-semibold text-lg">Ad Manager</h4>
                        <p class="text-white/70 text-sm">Pizzaria</p>
                    </div>
                    <div class="w-8 h-8 rounded-full bg-blue-500/20 flex items-center justify-center">
                        <svg class="w-5 h-5 text-blue-300" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"></path>
                        </svg>
                    </div>
                </div>
                <div class="mb-3">
                    <span class="inline-flex items-center px-2 py-1 rounded bg-green-500/20 text-green-300 text-xs font-medium">
                        <span class="w-2 h-2 rounded-full bg-green-400 mr-2"></span>
                        Active
                    </span>
                </div>
                <div class="space-y-2 text-white/60 text-xs mb-4">
                    <p>Library ID: 728919546261556</p>
                    <p>Started running on 9 Jun 2025</p>
                    <p>Total active time 9 hrs</p>
                </div>
                <div class="bg-white/10 rounded-lg p-3 mb-3">
                    <div class="h-24 bg-gray-800/50 rounded mb-2"></div>
                    <p class="text-white/50 text-xs">This ad has multiple versions</p>
                </div>
                <button class="w-full py-2 px-4 bg-white/10 hover:bg-white/20 text-white text-sm rounded-lg transition-colors">
                    See ad details
                </button>
            </div>

            <!-- Foreground Card - Ad Creative -->
            <div class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-72 rounded-2xl bg-white/10 backdrop-blur-xl shadow-2xl border border-white/20 overflow-hidden z-20">
                <!-- Top Bar -->
                <div class="flex items-center justify-between px-4 py-2 bg-black/30 border-b border-white/10">
                    <span class="text-white text-xs font-medium">PIZZARIA</span>
                    <span class="inline-flex items-center px-2 py-0.5 rounded bg-red-500/80 text-white text-xs font-medium">
                        AI Generated
                        <svg class="w-3 h-3 ml-1" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
                        </svg>
                    </span>
                </div>
                
                <!-- Ad Image Area -->
                <div class="relative h-48 bg-gradient-to-br from-orange-600 to-red-600 flex items-center justify-center">
                    <div class="text-center">
                        <h2 class="text-3xl font-bold text-yellow-300 mb-2 drop-shadow-lg">Melting Cheese</h2>
                        <div class="w-32 h-32 mx-auto bg-white/20 rounded-full flex items-center justify-center">
                            <svg class="w-16 h-16 text-white/80" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
                            </svg>
                        </div>
                    </div>
                </div>
                
                <!-- Bottom CTA Bar -->
                <div class="px-4 py-3 bg-black/20 border-t border-white/10">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-white text-sm font-medium">Burger Bites</span>
                        <span class="text-white/70 text-xs">pizzaria.com</span>
                    </div>
                    <button class="w-full py-2 px-4 bg-gray-700/80 hover:bg-gray-600/80 text-white text-sm rounded-lg transition-colors">
                        Learn more
                    </button>
                </div>
            </div>

            <!-- Play/Pause Button -->
            <button
                id="play-pause-btn"
                aria-label="Play feature demo"
                class="absolute bottom-5 right-5 h-14 w-14 rounded-full bg-white/90 hover:bg-white flex items-center justify-center shadow-lg transition-all hover:scale-110 z-30"
            >
                <svg id="play-icon" class="w-6 h-6 text-gray-900 ml-1" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path>
                </svg>
                <svg id="pause-icon" class="w-6 h-6 text-gray-900 hidden" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                </svg>
            </button>
        </div>
    </div>
</section>

<script>
(function() {
    const video = document.getElementById('feature-demo-video');
    const tabs = document.querySelectorAll('.feature-tab');
    const progressBar = document.getElementById('progress-bar');
    const playPauseBtn = document.getElementById('play-pause-btn');
    const playIcon = document.getElementById('play-icon');
    const pauseIcon = document.getElementById('pause-icon');
    
    let activeTab = 0;
    let isPlaying = false;
    let progress = 0;
    let progressInterval = null;
    const chapterDuration = 10; // seconds
    
    const videoSources = [
        '{{ "videos/chapter1.mp4" | relURL }}',
        '{{ "videos/chapter2.mp4" | relURL }}',
        '{{ "videos/chapter3.mp4" | relURL }}'
    ];
    
    function updateActiveTab(index) {
        // Update tab states
        tabs.forEach((tab, i) => {
            const icon = tab.querySelector('div:first-child');
            const title = tab.querySelector('h3');
            const underline = tab.querySelector('.absolute.bottom-0');
            
            if (i === index) {
                tab.setAttribute('aria-selected', 'true');
                tab.classList.remove('text-gray-600', 'hover:text-gray-900');
                tab.classList.add('text-gray-900');
                icon.classList.remove('bg-gray-100', 'text-gray-400');
                icon.classList.add('bg-orange-100', 'text-orange-600');
                title.classList.remove('text-gray-700');
                title.classList.add('text-gray-900');
                if (underline) underline.classList.remove('hidden');
            } else {
                tab.setAttribute('aria-selected', 'false');
                tab.classList.remove('text-gray-900');
                tab.classList.add('text-gray-600', 'hover:text-gray-900');
                icon.classList.remove('bg-orange-100', 'text-orange-600');
                icon.classList.add('bg-gray-100', 'text-gray-400');
                title.classList.remove('text-gray-900');
                title.classList.add('text-gray-700');
                if (underline) underline.classList.add('hidden');
            }
        });
    }
    
    function changeChapter(index) {
        activeTab = index;
        video.pause();
        video.currentTime = 0;
        progress = 0;
        progressBar.style.width = '0%';
        
        // Change video source
        const source = video.querySelector(`source[data-chapter="${index}"]`);
        if (source) {
            video.src = source.src;
            video.load();
        }
        
        updateActiveTab(index);
        
        if (isPlaying) {
            setTimeout(() => video.play(), 100);
        }
    }
    
    function startProgressAnimation() {
        if (progressInterval) clearInterval(progressInterval);
        
        const interval = 50; // Update every 50ms
        const increment = (interval / (chapterDuration * 1000)) * 100;
        
        progressInterval = setInterval(() => {
            if (isPlaying) {
                progress += increment;
                if (progress >= 100) {
                    progress = 0;
                    // Loop or advance to next chapter
                    video.currentTime = 0;
                    if (!video.paused) video.play();
                }
                progressBar.style.width = progress + '%';
            }
        }, interval);
    }
    
    function togglePlayPause() {
        if (isPlaying) {
            video.pause();
            isPlaying = false;
            playIcon.classList.remove('hidden');
            pauseIcon.classList.add('hidden');
            playPauseBtn.setAttribute('aria-label', 'Play feature demo');
            if (progressInterval) clearInterval(progressInterval);
        } else {
            video.play();
            isPlaying = true;
            playIcon.classList.add('hidden');
            pauseIcon.classList.remove('hidden');
            playPauseBtn.setAttribute('aria-label', 'Pause feature demo');
            startProgressAnimation();
        }
    }
    
    // Tab click handlers
    tabs.forEach((tab, index) => {
        tab.addEventListener('click', () => {
            changeChapter(index);
        });
    });
    
    // Play/pause button
    playPauseBtn.addEventListener('click', togglePlayPause);
    
    // Video event handlers
    video.addEventListener('play', () => {
        isPlaying = true;
        playIcon.classList.add('hidden');
        pauseIcon.classList.remove('hidden');
        playPauseBtn.setAttribute('aria-label', 'Pause feature demo');
        startProgressAnimation();
    });
    
    video.addEventListener('pause', () => {
        isPlaying = false;
        playIcon.classList.remove('hidden');
        pauseIcon.classList.add('hidden');
        playPauseBtn.setAttribute('aria-label', 'Play feature demo');
        if (progressInterval) clearInterval(progressInterval);
    });
    
    video.addEventListener('ended', () => {
        isPlaying = false;
        progress = 0;
        progressBar.style.width = '0%';
        playIcon.classList.remove('hidden');
        pauseIcon.classList.add('hidden');
        if (progressInterval) clearInterval(progressInterval);
    });
    
    // Initialize
    updateActiveTab(0);
    video.src = videoSources[0];
    video.load();
})();
</script>




